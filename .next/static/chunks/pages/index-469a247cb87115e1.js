(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1681:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>i});var s=o(7876),n=o(4232);function l(t){let{title:e,code:o}=t,[l,i]=(0,n.useState)(!1);return(0,s.jsxs)("div",{style:{marginBottom:12},children:[(0,s.jsxs)("button",{onClick:()=>i(!l),style:{cursor:"pointer",fontWeight:"bold"},children:[l?"▼":"▶"," ",e]}),l&&(0,s.jsx)("pre",{style:{background:"#f4f4f4",padding:12,borderRadius:6,maxHeight:200,overflow:"auto",whiteSpace:"pre-wrap",fontSize:12},children:o})]})}function i(){let[t,e]=(0,n.useState)([{role:"system",content:"Fetching MCP tools..."}]),[o,i]=(0,n.useState)(""),[r,a]=(0,n.useState)(null),[d,c]=(0,n.useState)(!1);async function p(t){if(t.preventDefault(),!o.trim()||!r)return;e(t=>[...t,{role:"user",content:o.trim()}]),c(!0);let n=await fetch("/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:o.trim()})}),a=await n.json();if(c(!1),a.error)return void e(t=>[...t,{role:"assistant",content:"Error calling tool: ".concat(a.error)}]);e(t=>[...t,{role:"assistant",content:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Called Tool:"})," ",a.chosenTool]}),(0,s.jsx)(l,{title:"MCP tools/call Request",code:a.toolsCallRequestRaw}),(0,s.jsx)(l,{title:"MCP tools/call Response",code:a.toolsCallResponseRaw}),(0,s.jsx)("div",{style:{marginTop:10},children:a.summaryMessage})]})}]),i("")}return(0,n.useEffect)(()=>{!async function(){c(!0);let t=await fetch("/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:"list tools"})}),o=await t.json();if(c(!1),o.error)return e([{role:"system",content:"Error fetching tools: ".concat(o.error)}]);a(o),e([{role:"system",content:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:["MCP server offers ",o.toolsList.length," tool(s): ",o.toolsList.join(", ")]}),(0,s.jsx)(l,{title:"MCP tools/list Request",code:o.toolsListRaw}),(0,s.jsx)(l,{title:"MCP tools/list Response",code:o.toolsListRaw}),(0,s.jsx)("div",{style:{marginTop:10,fontWeight:"bold"},children:"You can now type the tool name to call it."})]})}])}()},[]),(0,s.jsxs)("div",{style:{maxWidth:600,margin:"40px auto",fontFamily:"Arial, sans-serif",padding:"0 20px"},children:[(0,s.jsx)("h2",{children:"MCP Chat UI"}),(0,s.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:8,padding:20,minHeight:300,maxHeight:600,overflowY:"auto",marginBottom:20,backgroundColor:"#fafafa"},children:[t.map((t,e)=>(0,s.jsx)("div",{style:{marginBottom:12,whiteSpace:"pre-wrap",background:"user"===t.role?"#e0f7fa":"#fff",padding:10,borderRadius:6,border:"user"===t.role?"1px solid #26c6da":"1px solid #ccc"},children:(t.content,t.content)},e)),d&&(0,s.jsx)("div",{style:{fontStyle:"italic"},children:"Loading..."})]}),(0,s.jsxs)("form",{onSubmit:p,style:{display:"flex",gap:8},children:[(0,s.jsx)("input",{type:"text",placeholder:"Type tool name to call",value:o,onChange:t=>i(t.target.value),style:{flexGrow:1,padding:10,fontSize:16},disabled:d}),(0,s.jsx)("button",{type:"submit",disabled:d||!o.trim(),style:{padding:"10px 16px"},children:"Send"})]})]})}},2936:(t,e,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(1681)}])}},t=>{t.O(0,[636,593,792],()=>t(t.s=2936)),_N_E=t.O()}]);