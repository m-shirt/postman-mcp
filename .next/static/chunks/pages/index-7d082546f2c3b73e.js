(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1681:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i});var s=o(7876),n=o(4232);function l(e){let{title:t,code:o}=e,[l,i]=(0,n.useState)(!1);return(0,s.jsxs)("div",{style:{marginBottom:12},children:[(0,s.jsxs)("button",{onClick:()=>i(!l),style:{cursor:"pointer",fontWeight:"bold"},children:[l?"▼":"▶"," ",t]}),l&&(0,s.jsx)("pre",{style:{background:"#f4f4f4",padding:12,borderRadius:6,maxHeight:200,overflow:"auto",whiteSpace:"pre-wrap",fontSize:12},children:o})]})}function i(){let[e,t]=(0,n.useState)([{role:"system",content:"Fetching MCP tools..."}]),[o,i]=(0,n.useState)(""),[r,a]=(0,n.useState)(null),[d,c]=(0,n.useState)(!1);async function p(e){if(e.preventDefault(),!o.trim()||!r)return;t(e=>[...e,{role:"user",content:o.trim()}]),c(!0);let n=await fetch("/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:o.trim()})}),a=await n.json();if(c(!1),a.error)return void t(e=>[...e,{role:"assistant",content:"Error calling tool: ".concat(a.error)}]);t(e=>[...e,{role:"assistant",content:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("b",{children:"Called Tool:"})," ",a.chosenTool]}),(0,s.jsx)(l,{title:"MCP tools/call Request",code:a.toolsCallRequestRaw}),(0,s.jsx)(l,{title:"MCP tools/call Response",code:a.toolsCallResponseRaw}),(0,s.jsx)("div",{style:{marginTop:10},children:a.summaryMessage})]})}]),i("")}return(0,n.useEffect)(()=>{!async function(){c(!0);let e=await fetch("/api/llm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:"list tools"})}),o=await e.json();if(c(!1),o.error)return t([{role:"system",content:"Error fetching tools: ".concat(o.error)}]);a(o),t([{role:"system",content:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:["MCP server offers ",o.toolsList.length," tool(s):"," ",o.toolsList.join(", ")]}),(0,s.jsx)(l,{title:"MCP tools/list Request",code:o.toolsListRaw}),(0,s.jsx)(l,{title:"MCP tools/list Response",code:o.toolsListResponse}),(0,s.jsx)("div",{style:{marginTop:10,fontWeight:"bold"},children:"You can now type the tool name to call it."})]})}])}()},[]),(0,s.jsxs)("div",{style:{maxWidth:600,margin:"40px auto",fontFamily:"Arial, sans-serif",padding:"0 20px"},children:[(0,s.jsx)("h2",{children:"MCP Chat UI"}),(0,s.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:8,padding:20,minHeight:300,maxHeight:600,overflowY:"auto",marginBottom:20,backgroundColor:"#fafafa"},children:[e.map((e,t)=>(0,s.jsx)("div",{style:{marginBottom:12,whiteSpace:"pre-wrap",background:"user"===e.role?"#e0f7fa":"#fff",padding:10,borderRadius:6,border:"user"===e.role?"1px solid #26c6da":"1px solid #ccc"},children:(e.content,e.content)},t)),d&&(0,s.jsx)("div",{style:{fontStyle:"italic"},children:"Loading..."})]}),(0,s.jsxs)("form",{onSubmit:p,style:{display:"flex",gap:8},children:[(0,s.jsx)("input",{type:"text",placeholder:"Type tool name to call",value:o,onChange:e=>i(e.target.value),style:{flexGrow:1,padding:10,fontSize:16},disabled:d}),(0,s.jsx)("button",{type:"submit",disabled:d||!o.trim(),style:{padding:"10px 16px"},children:"Send"})]})]})}},2936:(e,t,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(1681)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=2936)),_N_E=e.O()}]);